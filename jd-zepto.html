<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="./js/zepto.min.js"></script>
    <title>Document</title>
    <link rel="stylesheet" href="./css/jd.css">
</head>

<body>
    <div class="jd clearflx">
        <!-- 搜索 -->
        <div class="header">
            <!-- logo -->
            <h1>
                <a href=""></a>
            </h1>
            <!-- 搜素块 -->
            <div class="header_s">
                <form action="">
                    <input type="text" placeholder="请输入商品名称">
                </form>
            </div>
            <!-- 登录 -->
            <a href="">登录</a>
        </div>
        <!-- 轮播图 -->
        <div class="banner clearflx">
            <ul class="jd_bk clearflx">
                <li>
                    <a href=""><img src="uploads/l1.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l2.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l3.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l4.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l5.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l6.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l7.jpg" alt=""></a>
                </li>
                <li>
                    <a href=""><img src="uploads/l8.jpg" alt=""></a>
                </li>
            </ul>
            <ul class="indicator">
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <!-- 导航 -->
        <div class="nav clearflx">
            <ul>
                <li>
                    <a href="javascript:;"><img src="images/nav_1.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_2.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_3.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_4.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_5.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_6.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_7.png" alt=""></a>
                    <p>商品分类</p>
                </li>
                <li>
                    <a href="javascript:;"><img src="images/nav_8.png" alt=""></a>
                    <p>商品分类</p>
                </li>
            </ul>
        </div>
        <div class="prouduct clearflx">
            <!-- 掌上秒杀 -->
            <div class="productBox">
                <!-- 计时器 -->
                <div class="time">
                    <ul>
                        <li></li>
                        <li>掌上秒杀</li>
                        <li>0</li>
                        <li>0</li>
                        <li>:</li>
                        <li>0</li>
                        <li>0</li>
                        <li>:</li>
                        <li>0</li>
                        <li>0</li>
                        <li>更多秒杀...</li>
                    </ul>
                </div>
                <div class="jd_sp clearflx">
                    <ul>
                        <li>
                            <a href=""><img src="uploads/detail01.jpg" alt=""></a>
                            <p>&yen;10.00</p>
                            <p>&yen;20.00</p>
                        </li>

                        <li>
                            <a href=""><img src="uploads/detail01.jpg" alt=""></a>
                            <p>&yen;10.00</p>
                            <p>&yen;20.00</p>
                        </li>

                        <li>
                            <a href=""><img src="uploads/detail01.jpg" alt=""></a>
                            <p>&yen;10.00</p>
                            <p>&yen;20.00</p>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- 京东超市 -->
            <div class="productBox clearflx">
                <div class="prduct_top">京东超市</div>
                <div class="product_bottom clearflx">
                    <ul>
                        <li class="l_left b_top">
                            <a href="javascript:;"><img src="uploads/cp1.jpg" alt=""></a>
                        </li>
                        <li class="r_right b_top b_left">
                            <a href="javascript:;"><img src="uploads/cp2.jpg" alt=""></a>
                        </li>
                        <li class="r_right b_top b_left">
                            <a href="javascript:;"><img src="uploads/cp3.jpg" alt=""></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="productBox clearflx">
                <div class="prduct_top">京东超市</div>
                <div class="product_bottom clearflx">
                    <ul>
                        <li class="r_right">
                            <a href="javascript:;"><img src="uploads/cp4.jpg" alt=""></a>
                        </li>
                        <li class="l_left">
                            <a href="javascript:;"><img src="uploads/cp5.jpg" alt=""></a>
                        </li>
                        <li class="l_left">
                            <a href="javascript:;"><img src="uploads/cp6.jpg" alt=""></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="productBox clearflx">
                <div class="prduct_top">京东超市</div>
                <div class="product_bottom clearflx">
                    <ul>
                        <li class="l_left b_top">
                            <a href="javascript:;"><img src="uploads/cp1.jpg" alt=""></a>
                        </li>
                        <li class="r_right b_top b_left">
                            <a href="javascript:;"><img src="uploads/cp2.jpg" alt=""></a>
                        </li>
                        <li class="r_right b_top b_left">
                            <a href="javascript:;"><img src="uploads/cp3.jpg" alt=""></a>
                        </li>
                    </ul>
                </div>
            </div>
</body>

<!-- <script src="zepto-master/src/fx.js"></script>
<script src="zepto-master/src/touch.js"></script>
<script src="zepto-master/src/zepto.min.js"></script> -->

<script>
    $(function() {
        // 获取banner
        var banner = $(".banner");
        var bannerWidth = banner.width();
        // 获取图片盒子
        var imgBox = banner.find("ul:first-of-type");
        // 获取圆点
        var indicatorLi = $('.indicator').find('li');
        // 获取首尾两张图片
        var first = imgBox.find("li:first-of-type");
        var last = imgBox.find("li:last-of-type");
        // 将图片添加到首尾
        imgBox.append(first.clone());
        last.clone().insertBefore(first);
        // 设置ul的宽度
        var lis = imgBox.find("li");
        var count = lis.length;
        imgBox.width(bannerWidth * count);
        // 设置li的宽度
        lis.each(function(index, value) {
            $(lis[index]).width(bannerWidth);
        });
        // 设置默认偏移
        imgBox.css("left", -bannerWidth);
        // 定义索引
        var index = 1;
        // 封装图片轮播效果函数
        var imgAnimation = function() {
                imgBox.animate({
                        "left": -index * bannerWidth
                    },
                    200,
                    "ease-in-out",
                    function() {
                        // 动画执行完的回调
                        // 判断当前索引是否最后一张或者第一张
                        if (index == count - 1) { //最后一张
                            index = 1;
                            //让他瞬间移动到索引一的位置
                            imgBox.css("left", -index * bannerWidth);

                        } else if (index == 0) { //第一张
                            index = count - 2;
                            imgBox.css("left", -index * bannerWidth);
                        }
                        // 设置圆点切换
                        indicatorLi.removeClass("active").eq(index - 1).addClass("active");
                    }
                )
            }
            // 定时器切换
        var timerId = setInterval(function() {
                index++;
                imgAnimation();
            }, 2000)
            // 左滑动 swiptLeft
        imgBox.on("swipeLeft", function() {
            clearInterval(timerId);
            index++;
            imgAnimation();
        });
        // 右滑动
        imgBox.on("swipeRight", function() {
            clearInterval(timerId);
            index--;
            imgAnimation();
        })


    })
</script>

</html>